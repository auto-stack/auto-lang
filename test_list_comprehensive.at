fn test_list_new() int {
    let list = List.new()
    let is_empty = list.is_empty()
    if is_empty == 1 {
        1
    } else {
        0
    }
}

fn test_list_push_pop() int {
    let list = List.new()
    list.push(42)
    list.push(100)
    let len = list.len()
    let popped = list.pop()
    let is_empty = list.is_empty()

    // Check each condition separately (no && operator in AutoLang yet)
    if len != 2 {
        0
    } else {
        if popped != 100 {
            0
        } else {
            if is_empty != 0 {
                0
            } else {
                1
            }
        }
    }
}

fn test_list_basic_operations() int {
    let list = List.new()

    // Test push
    list.push(1)
    list.push(2)
    list.push(3)

    // Test len
    let len = list.len()
    if len != 3 {
        0
    } else {
        // Test clear
        list.clear()
        let is_empty = list.is_empty()
        if is_empty == 1 {
            1
        } else {
            0
        }
    }
}

fn test_list_get_set() int {
    let list = List.new()

    // Push some elements
    list.push(10)
    list.push(20)
    list.push(30)

    // Test get
    let first = list.get(0)
    let second = list.get(1)

    // Test set
    list.set(0, 15)
    let updated = list.get(0)

    if first != 10 {
        0
    } else {
        if second != 20 {
            0
        } else {
            if updated != 15 {
                0
            } else {
                1
            }
        }
    }
}

fn test_list_insert_remove() int {
    let list = List.new()

    // Push initial elements
    list.push(1)
    list.push(3)

    // Insert at index 1
    list.insert(1, 2)

    // Should now be [1, 2, 3]
    let val1 = list.get(0)
    let val2 = list.get(1)
    let val3 = list.get(2)

    // Remove element at index 1
    let removed = list.remove(1)

    // Should now be [1, 3]
    let len = list.len()

    if val1 != 1 {
        0
    } else {
        if val2 != 2 {
            0
        } else {
            if val3 != 3 {
                0
            } else {
                if removed != 2 {
                    0
                } else {
                    if len != 2 {
                        0
                    } else {
                        1
                    }
                }
            }
        }
    }
}

fn test_list_reserve() int {
    let list = List.new()

    // Reserve capacity
    list.reserve(100)

    // Add some elements
    list.push(1)
    list.push(2)

    let len = list.len()

    if len == 2 {
        1
    } else {
        0
    }
}

fn main() {
    let r1 = test_list_new()
    let r2 = test_list_push_pop()
    let r3 = test_list_basic_operations()
    let r4 = test_list_get_set()
    let r5 = test_list_insert_remove()
    let r6 = test_list_reserve()

    // All tests should return 1
    r1 + r2 + r3 + r4 + r5 + r6
}

/// Map Adapter - Plan 051 Phase 2
/// Transforms each element using a function

use auto.iter.spec: Iter

/// Iterator that maps each element I -> T -> U
type MapIter<I, T, U> {
    iter I  // Generic type field - now supported!
    func fn(T)U  // Function to apply to each element
}

impl Iter<int> for MapIter<Iter<int>, int, int> {
    #[c, vm]
    fn next() May<int> {
        let item = .iter.next()?
        return .func(item)
    }
}

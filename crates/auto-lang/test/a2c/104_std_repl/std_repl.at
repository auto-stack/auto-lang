use auto.io
use c <stdlib.h>
fn c free(p cstr)

fn main() {
    mut lineptr *char = null
    mut n int = 0

    print(c"Enter a line of text: ") // TODO: print without newline

    let charsRead = getline(lineptr.ptr, n.ptr, stdin);

    if charsRead != -1 {
        print("You entered:", lineptr)
    } else {
        print("Error reading line")
    }

    free(lineptr)
}

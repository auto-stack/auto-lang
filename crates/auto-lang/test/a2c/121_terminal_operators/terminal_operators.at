// Test Terminal Operators - Plan 051 Phase 4
// Test reduce, count, and for_each with List

use auto.list: List

// Helper function for reduce
fn add(a int, b int) int {
    a + b
}

// Helper function for for_each
fn print_item(x int) {
    say(x)
}

fn main() {
    // Create a list
    let list = List.new()
    list.push(1)
    list.push(2)
    list.push(3)

    // Test reduce: sum list elements
    // Sum: 1 + 2 + 3 = 6
    let sum = list.iter().reduce(0, add)
    say(sum)

    // Test count: count elements
    let count = list.iter().count()
    say(count)

    // Test for_each: print all elements
    list.iter().for_each(print_item)
}
